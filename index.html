<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>e-Dnevnik</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="index_files/bootstrap.css" media="screen">
  <link rel="stylesheet" href="index_files/custom.css">


  <script>
    var profesori = [
      {
        ime: "Ivan",
        prezime: "Čelebić",
        spol: "M"
      },
      {
        ime: "Jela",
        prezime: "Knežević",
        spol: "F"
      },
      {
        ime: "Klaudija",
        prezime: "Miličević",
        spol: "F"
      },
      {
        ime: "Tihana",
        prezime: "Perić",
        spol: "F"
      },
      {
        ime: "Ksenija",
        prezime: "Lukačević",
        spol: "F"
      },
      {
	ime: "Dražen",
        prezime: "Đapić",
        spol: "M"
      },
      {
        ime: "Ljiljana",
        prezime: "Čelebić",
        spol: "F"
      },
      {
        ime: "Margareta",
        prezime: "Princip",
        spol: "F"
      },
      {
        ime: "Ljiljana",
        prezime: "Kovačević",
        spol: "F"
      },
      {
        ime: "Miroslav",
        prezime: "Čolić",
        spol: "M"
      },
      {
        ime: "Mirta",
        prezime: "Omazić",
        spol: "F"
      },
      {
        ime: "Nataša",
        prezime: "Tram",
        spol: "F"
      },
      {
        ime: "Radmila",
        prezime: "Završki",
        spol: "F"
      },
      {
        ime: "Robert",
        prezime: "Gal",
        spol: "M"
      },
      {
        ime: "Tanja",
        prezime: "Rajković",
        spol: "F"
      },
      {
        ime: "Tanja",
        prezime: "Ivković",
        spol: "F"
      },
      {
        ime: "Arman",
        prezime: "Schussler",
        spol: "M"
      },
      {
        ime: "Doris",
        prezime: "Crnjac",
        spol: "F"
      },
      {
        ime: "Željko",
        prezime: "Radnić",
        spol: "M"
      }
    ]
    profesori.sort((a, b) => {

      var x = a.prezime.toLowerCase();
      var y = b.prezime.toLowerCase();

      return x < y ? -1 : x > y ? 1 : 0;
    })
    zbrkaniProfesori = profesori.slice(0)
    zbrkaniProfesori = shuffle(zbrkaniProfesori)
    counter = 0;


    function dohvatiSlovo(prof) {
      return (prof.spol == 'M') ? '' : 'a';

    }
    function dohvatiModal() {
      console.log('hello')
      izabraniProf = zbrkaniProfesori[counter];
      counter++;
      var modal = `
      <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title" id="exampleModalLongTitle">Izabran${dohvatiSlovo(izabraniProf)} je:</h3>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <img class="img img-responsive" src=" ${dohvatiSliku(izabraniProf)}" style="width:110px;height:110px">

                       <h2 class="modal-title" id="exampleModalLongTitle">${izabraniProf.ime} ${izabraniProf.prezime}</h2>

          </div>
        
        </div>
      </div>
    </div>      
      `;
      // <div class="modal-footer">
      //       <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      //       <button type="button" class="btn btn-primary">Save changes</button>
      //     </div>

      
document.getElementById('modalProf').innerHTML = modal;

      if (counter >= zbrkaniProfesori.length)
        counter = 0;
      return modal;
    }


    function dohvatiTablicu() {
      var tablica = '';

      profesori.forEach(
        prof => {
          tablica += `<tr>
                  <th scope="row">
                    <img class="img img-responsive" src="${dohvatiSliku(prof)}" style="width:50px;height:50px">${prof.ime} ${prof.prezime}
                    </th>
                </tr>`
        }
      )

      return tablica
    }

    function dohvatiSliku(prof) {
      return (prof.spol == 'M') ? 'person-male.png' : 'person-female.png';
    }

    function popuniRupe() {
      tablica = document.getElementById("tablica");
      tablicaHtml = dohvatiTablicu();

      tablica.innerHTML = tablicaHtml
      // console.log(dohvatiTabl())
      // console.log('')
      console.log(tablica.innerHtml)

    }

    function shuffle(a) {
      var j, x, i;
      for (i = a.length - 1; i > 0; i--) {
        j = Math.floor(Math.random() * (i + 1));
        x = a[i];
        a[i] = a[j];
        a[j] = x;
      }
      return a;
    }

    window.onload = popuniRupe
  </script>
</head>

<body>
  <div class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">
    <div class="container">
      <a href="https://bootswatch.com/" class="navbar-brand">e-Dnevnik</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
      </div>
    </div>
  </div>

  <div class="container">

    <!-- Modal -->
  <div id ="modalProf"></div>


    <!-- Tables

      ================================================== -->
    <div class="bs-docs-section">

      <div class="row">
        <div class="col-lg-12">
          <div class="page-header">
            <h1>Izaberi profesora </h1>
          </div>
          <div class="float-right">
            <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#exampleModalCenter" onclick="dohvatiModal()" >Slučajan Odabir!</button>
          </div>
          <br>
          <br>
          <br>
          <br>
          <div class="bs-component">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th scope="col">Profesor</th>

                </tr>
              </thead>
              <tbody id="tablica">
                <!-- <tr>
                  <th scope="row">
                    <img class="img img-responsive" src="person-male.png" style="width:50px;height:50px">Marko Marić</th>
                </tr>
                <tr>
                  <th scope="row">
                    <img class="img img-responsive" src="person-female.png" style="width:50px;height:50px">Marina Radić</th>
                </tr> -->
              </tbody>
            </table>
          </div>
          <!-- /example -->
        </div>
      </div>
    </div>

    <div id="source-modal" class="modal fade">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Source Code</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
          </div>
          <div class="modal-body">
            <pre contenteditable=""></pre>
          </div>
        </div>
      </div>
    </div>

    <footer id="footer">
      <div class="row">
        <div class="col-lg-12">
        </div>
      </div>

    </footer>


  </div>


  <script src="index_files/jquery.js"></script>
  <script src="index_files/bootstrap.js"></script>


</body>

</html>
